var famscripts = famscripts || {};
famscripts.common = {
    getUrlParameter: function(e) {
        var t, l, o = window.location.search.substring(1).split("&");
        for (l = 0; l < o.length; l++)
            if ((t = o[l].toLowerCase().split("="))[0] === e) return void 0 === t[1] || decodeURIComponent(t[1])
    },
    fixedRight: function() {
        const e = window.matchMedia("(min-width: 992px)");
        if ($(window).bind("scroll", (function() {
                if ($(window).scrollTop() >= 700 && e.matches) {
                    $(".side-bar").addClass("fixedRight");
                    var t = $(".leftContainer").width(),
                        l = $(".leftContainer").offset();
                    $(".side-bar").css({
                        left: t + l.left
                    })
                } else $(".side-bar").removeClass("fixedRight"), $(".side-bar").css({
                    left: "auto"
                })
            })), $(window).bind("resize", (function() {
                var t = $(".leftContainer").width(),
                    l = $(".leftContainer").offset();
                $(".side-bar").css({
                    left: t + l.left
                }), e.matches || ($(".side-bar").removeClass("fixedRight"), $(".side-bar").css({
                    left: "auto"
                }))
            })), e.matches) {
            let e = new IntersectionObserver((e => {
                e.forEach((e => {
                    e.isIntersecting ? (e.target, document.querySelector(".side-bar").style.opacity = 0) : (e.target, document.querySelector(".side-bar").style.opacity = 1)
                }))
            }), {
                threshold: .2
            });
            $(document).ready((function() {
                e.observe(document.querySelector(".wizard-lead-bg")), e.observe(document.querySelector(".t-Footer"))
            }))
        }
    },
    openLightBox: function(e) {
        let t = "";
        const l = document.querySelector(".gallery-bg").querySelectorAll(".imgGallery"),
            o = document.getElementsByClassName("modal-content")[0];
        l.forEach(((e, l) => {
            t += '<div class="mySlides"><img src="' + e.getAttribute("data-path") + '" class="imgActive"></div>'
        })), o.innerHTML = t, document.querySelector(".gallery-bg .modal").style.display = "flex";
        let r = document.querySelector(".gallery-bg .modal-content").querySelectorAll(".mySlides"),
            n = r.length;
        s(e);
        var a = e;

        function i(e) {
            console.log(a);
            const t = window.matchMedia("(max-width: 768px)");
            t.matches && a == n ? (a = -1, s(a += e)) : t.matches && a < 0 ? (a = n, s(a += e)) : s(a += e)
        }

        function s(e) {
            var t;
            for (console.log(e), e == n - 1 ? document.querySelector(".gallery-bg .next").classList.add("u-hidden") : document.querySelector(".gallery-bg .next").classList.remove("u-hidden"), 0 == e ? document.querySelector(".gallery-bg .prev").classList.add("u-hidden") : document.querySelector(".gallery-bg .prev").classList.remove("u-hidden"), t = 0; t < n; t++) r[t].style.display = "none";
            r[e].style.display = "flex", document.querySelector(".gallery-bg .modal .numbertext").innerHTML = e + 1 + " / " + n
        }
        document.querySelector(".gallery-bg .prev").addEventListener("click", (() => {
            i(-1)
        })), document.querySelector(".gallery-bg .next").addEventListener("click", (() => {
            i(1)
        })), $(".gallery-bg .modal-content").on("touchstart", (function(e) {
            const t = e.originalEvent.touches[0].pageX;
            $(this).on("touchmove", (function(e) {
                const l = e.originalEvent.touches[0].pageX;
                Math.floor(t - l) > 10 ? (i(1), $(this).off("touchmove")) : Math.floor(t - l) < -10 && (i(-1), $(this).off("touchmove"))
            }))
        })), document.querySelector(".gallery-bg .close.cursor").addEventListener("click", (() => {
            document.querySelector(".gallery-bg .modal").style.display = "none"
        }))
    },
    lightGallery: function() {
        const galleryItems = document.querySelectorAll('.gallery-grid-tiles ul li');
        const totalImages = galleryItems.length;
        const isMobile = window.matchMedia("(max-width: 767px)").matches;

        // Initialize lightbox content
        let lightboxContent = "";
        const images = document.querySelector(".gallery-bg").querySelectorAll(".imgGallery");
        
        // Create lightbox slides
        images.forEach((img, index) => {
            lightboxContent += `<div class="mySlides">
                <img src="${img.getAttribute("data-path")}" class="imgActive">
            </div>`;
        });

        // Add lightbox HTML
        const modalContent = document.getElementsByClassName("modal-content")[0];
        modalContent.innerHTML = lightboxContent;

        // Add click handlers to all gallery items
        galleryItems.forEach((item, index) => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                famscripts.common.openLightBox(index);
            });
        });

        // Add "Show All Photos" button based on layout
        if (!isMobile) {
            if (totalImages > 5) {
                galleryItems[4].querySelector('.info').innerHTML += `
                    <span class="t-Button t-Button--icon t-Button--iconLeft info">
                        <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 16px; width: 16px; fill: currentcolor;">
                            <path d="m3 11.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-10-5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-10-5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z" fill-rule="evenodd"></path>
                        </svg>
                        Show All Photos
                    </span>
                `;
            }
        } else {
            galleryItems[0].querySelector('.info').innerHTML += `
                <span class="t-Button t-Button--icon t-Button--iconLeft info">
                    <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 16px; width: 16px; fill: currentcolor;">
                        <path d="m3 11.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-10-5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-10-5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z" fill-rule="evenodd"></path>
                    </svg>
                    Show All Photos
                </span>
            `;
        }
    },
    floorplan: function() {
        let e = "";
        const t = document.querySelectorAll(".floor-plans .info img"),
            l = document.querySelector(".floor-plans .modal-content"),
            o = document.querySelector(".floor-plans").querySelectorAll(".info");
        t.forEach(((t, l) => {
            const o = t.getAttribute("src");
            e += `\n                <div class="mySlides">\n                    <img data-src="${o}" width="100%" class="imgActive" ${0===l?`src="${o}"`:""}>\n                </div>`
        })), l.innerHTML = e;
        const r = document.querySelector(".floor-plans").querySelectorAll(".mySlides"),
            n = r.length;
        let a = 0,
            i = !1;
        o.forEach(((e, t) => {
            e.addEventListener("click", (e => {
                e.preventDefault(), document.querySelector(".floor-plans .modal").style.display = "flex", 0 === parseInt(t) && (i = !0), d(s = t)
            }))
        })), document.querySelector(".floor-plans .next").addEventListener("click", (() => {
            c(1), a += 1;
            if (a < n) {
                const e = r[a].querySelector(".imgActive");
                e.getAttribute("src") || e.setAttribute("src", e.getAttribute("data-src"))
            }
        })), document.querySelector(".floor-plans .prev").addEventListener("click", (() => {
            c(-1), a = 0 === a ? n - 1 : a - 1;
            const e = r[a].querySelector(".imgActive");
            e.getAttribute("src") || e.setAttribute("src", e.getAttribute("data-src"))
        })), document.querySelector(".floor-plans .close.cursor").addEventListener("click", (() => {
            document.querySelector(".floor-plans .modal").style.display = "none"
        }));
        let s = 0;

        function c(e) {
            d(s += e)
        }

        function d(e) {
            s = e >= n ? n - 1 : e < 0 ? 0 : e, document.querySelector(".floor-plans .next").classList.toggle("u-hidden", s === n - 1), document.querySelector(".floor-plans .prev").classList.toggle("u-hidden", 0 === s), r.forEach((e => e.style.display = "none"));
            const t = r[s];
            t.style.display = "flex";
            const l = t.querySelector(".imgActive");
            l.getAttribute("src") || l.setAttribute("src", l.getAttribute("data-src")), document.querySelector(".floor-plans .modal .numbertext").innerHTML = s + 1 + " / " + n
        }
        d(s)
    }
};
//# sourceMappingURL=project-detail-191.min.js.map